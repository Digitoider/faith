here goes schedule
<div class="row">
  <div class="col s12">
    <div class="card grey lighten-5">
      <div class="card-content ">
        <span class="card-title">Generate schedule</span>

        <div class="row">

          <div class="col s12">
            <%= form_for @operation_day, url: analysis_index_path do |f| %>
              <div class="input-field">
                <%= f.label :at, 'Choose date' %>
                <%= f.text_field :at, {class: 'datepicker'} %>
              </div>
            <% end %>
          </div>

          <div class="col s12 operation">

            <div class="operation-add__button btn-small waves-effect waves-light red col s5">Add room</div>
            <div class="schedule-generate__button btn-small waves-effect waves-light blue col offset-s2 s5">Generate schedule</div>
          </div>
        </div>

      </div>

    </div>
  </div>

  <div class="row">
    <div class="col s6 profiles">


    </div>
  </div>

</div>


<script type="text/javascript" charset="utf-8">
    $(document).ready(function () {
        $('.datepicker').datepicker();

        roomsGenerated = 0;
        currentRoom = 0;
        generateRoom();

        $('.operation-add__button').on('click', generateRoom);
        $('.schedule-generate__button').on('click', generateScheduleAJAX);
    });

    function generateScheduleAJAX(){
        var data = {
            authenticity_token: $('meta[name="csrf-token"]').attr('content'),
            at: $('#operation_day_at').val(),
            rooms: getRooms()
        };
        $.ajax({
            type: "POST",
            dataType: "json",
            url: '/schedule/generate',
            data: data,
            success: function(data, status){
                if(data.errors ){
                    data.errors.forEach(function (error) {
                        M.toast({ html: error });
                    });
                }
                else{
                    // TODO: Display success message
                }
            }
        });
    }

    function getRooms() {
        var rooms = [];
        $('[room-card]').each(function () {
            id = $(this).attr('room-card');
            roomName = $('input[id=room' + id + ']').val();
            roomCapacity = $('input[id=capacity-room' + id + ']').val();
            roomInfo = $('textarea[id=textarea-room' + id + ']').val();
            rooms.push({
                id: id,
                name: roomName,
                capacity: roomCapacity,
                info: roomInfo
            });
        });
        return rooms
    }

    function generateRoom() {
      currentRoom++;
      $roomMarkup = generateRoomMarkup(currentRoom);
      console.log($roomMarkup);
      $('.operation-add__button').before($roomMarkup);
      $("[for-room-card='"+ currentRoom+"']").click(removeRoom);
      roomsGenerated++;
    }

    function removeRoom() {
        console.log($(this))
        roomId = $(this).attr('for-room-card');
        $("[room-card='"+roomId+"']").remove();
        roomsGenerated--;
    }

    function generateRoomMarkup(currentRoom) {
        return $([
            "<div class='card blue-grey darken-1' room-card='"+ currentRoom +"'>",
            "  <div class='card-content white-text'>",
            "    <span class='card-title'>Room "+ currentRoom +"</span>",
            "      <div class='row'>",
            "    <div class='input-field col s3'>",
            "      <input placeholder='' id='room"+ currentRoom + "' type='text' class='validate'>",
            "      <label for='room"+ currentRoom +"'>Name</label>",
            "    </div>",
            "    <div class='input-field col s3'>",
            "      <input placeholder='' id='capacity-room"+ currentRoom + "' type='text' class='validate'>",
            "      <label for='capacity-room"+ currentRoom +"'>Capacity (in hours)</label>",
            "    </div>",
            "    <div class='input-field col s6'>",
            "      <textarea id='textarea-room"+ currentRoom +"' class='materialize-textarea'></textarea>",
            "      <label for='textarea-room"+ currentRoom +"'>Information</label>",
            "    </div>",
            "      </div>",
            "  </div>",
            "  <div class='card-action'>",
            "    <a class='room-card--remove' for-room-card='"+ currentRoom +"'>Remove room</a>",
            "  </div>",
            "</div>"
        ].join('\n'))[0];
    }
</script>